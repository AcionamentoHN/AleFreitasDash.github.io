
<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title id="titleE">PDF para JPG</title>
    <link rel="icon" type="image/png" sizes="16x16" href="./images/favicon.png">
    	<link href="./vendor/bootstrap-select/dist/css/bootstrap-select.min.css" rel="stylesheet">
    <link href="./css/style.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css" integrity="sha512-Qz2TYV2jsuWwYYOrj7k/M12zDCJuVMe8uOz9jwu7/tIY+dwC/jwpj0Hb1RvM1PlG6U5k6P5o3fCQ2IHU+ScLzg==" crossorigin="anonymous" />
  <link rel="stylesheet" href="./vendor/toastr/css/toastr.min.css">
	<script type="text/javascript" src="https://unpkg.com/xlsx@0.15.1/dist/xlsx.full.min.js"></script>
	<link href="https://cdn.lineicons.com/2.0/LineIcons.css" rel="stylesheet">
	<link rel="stylesheet" href="./vendor/pickadate/themes/default.css">
    <link rel="stylesheet" href="./vendor/pickadate/themes/default.date.css">
	<link href="./vendor/bootstrap-daterangepicker/daterangepicker.css" rel="stylesheet">
    <link href="./vendor/clockpicker/css/bootstrap-clockpicker.min.css" rel="stylesheet">
    <link href="./vendor/jquery-asColorPicker/css/asColorPicker.min.css" rel="stylesheet">
    <link href="./vendor/bootstrap-material-datetimepicker/css/bootstrap-material-datetimepicker.css" rel="stylesheet">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.min.js"></script>

</head>

<body>
    <div id="preloader">
        <div class="sk-three-bounce">
            <div class="sk-child sk-bounce1"></div>
            <div class="sk-child sk-bounce2"></div>
            <div class="sk-child sk-bounce3"></div>
        </div>
    </div>
    <div id="main-wrapper">
        <div class="nav-header">
            <a href="index.html" class="brand-logo">
                <img class="logo-abbr" src="./images/logo.png" alt="">
                <img class="logo-compact" src="./images/logo-text.png" alt="">
                <img class="brand-title" src="./images/logo-text.png" alt="">
            </a>

            <div class="nav-control">
                <div class="hamburger">
                    <span class="line"></span><span class="line"></span><span class="line"></span>
                </div>
            </div>
        </div>
        <div class="deznav">
            <div class="deznav-scroll">
				<ul class="metismenu" id="menu">
				    <li><a href="app-acionamento.html" class="ai-icon" aria-expanded="false">
							<i class="flaticon-381-notepad"></i>
							<span class="nav-text">Acionamento</span>
						</a>
					</li>
					<li><a href="app-frete-calculadora.html" class="ai-icon" aria-expanded="false">
							<i class="flaticon-381-calculator"></i>
							<span class="nav-text">Calcular Frete</span>
						</a>
					</li>
					<li><a href="consulta-cep.html" class="ai-icon" aria-expanded="false">
							<i class="flaticon-381-map"></i>
							<span class="nav-text">Consulta CEP</span>
						</a>
					</li>
					<li><a href="consulta-cnpj.html" class="ai-icon" aria-expanded="false">
							<i class="flaticon-381-networking-1"></i>
							<span class="nav-text">Consulta CNPJ</span>
						</a>
					</li>
					<li><a class="has-arrow ai-icon" href="javascript:void()" aria-expanded="false">
							<i class="flaticon-381-controls-3"></i>
							<span class="nav-text">Ferramentas</span>
						</a>
                        <ul aria-expanded="false">
                            <li><a href="./app-PDFtoJPG.html">PDF para JPG</a></li>
                            <li><a href="./app-PDFtoTXT.html">PDF para TEXTO</a></li>
							<li><a href="./app-IMGtoTXT.html">IMAGEM para TEXTO</a></li>
                        </ul>
                    </li>
                </ul>
			</div>
        </div>
        <div class="content-body">
            <div class="container-fluid">
                <div class="row page-titles mx-0">
                    <div class="col-sm-6 p-md-0">
                        <div class="welcome-text">
                            <h4>PDF para JPG</h4>
                            <span></span>
                        </div>
		
                    </div>
                    <div class="col-sm-6 p-md-0 justify-content-sm-end mt-2 mt-sm-0 d-flex">
                        <ol class="breadcrumb">
                            <li class="breadcrumb-item"><a href="javascript:void(0)">Ferramentas</a></li>
                            <li class="breadcrumb-item active"><a href="javascript:void(0)">PDF para JPG</a></li>
                        </ol>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xl-12">
                        <div class="card">
                            <div class="card-body">
                                <ul class="nav nav-tabs" role="tablist">
                                    <li class="nav-item">
                                        <a class="nav-link active" data-toggle="tab" href="#acionamento">
                                            <span>
                                                <i class="flaticon-381-television"></i> PDF para JPG
                                            </span>
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" data-toggle="tab" href="#anotacoes">
                                            <span>
                                                <i class="ti-notepad"></i> Anotações
                                            </span>
                                        </a>
                                    </li>
                                </ul>
                                <div class="tab-content tabcontent-border">
                                    <div class="tab-pane fade show active" id="acionamento" role="tabpanel">
                                        <div class="row">
                                            <div class="col-md-6 offset-md-3">
                                              <h2 class="mb-4">Conversor PDF para JPG</h2>
                                              <input type="file" id="pdfFile" class="form-control mb-3" onchange="convertToJPG()" accept=".pdf">
											  <div id="output" class="d-flex flex-wrap justify-content-center"></div>
                                            </div>
                                          </div>
                                    </div>
									<div id="output"></div>
                                    <div class="tab-pane fade" id="anotacoes" role="tabpanel">
                                        <div class="pt-4">
                                            <div class="col-xl-12">
                                                <div class="card">
                                                    <div class="card-header">
													<div class="input-group mb-3 col-xl-6">
                                            <div class="input-group-prepend">
                                                <button class="btn btn-primary" onclick="salvarTexto()" type="button">Salva TXT</button>
                                            </div>
                                            <input id="nomeArquivoInput" type="text" class="form-control">
                                            </div>
									</div>
											
                                                        <div class="card-body">
                                                        <textarea id="textoArea" style="border-radius: 1rem; box-shadow: 0.3rem 0.3rem 0.6rem var(--greyLight-2), -0.2rem -0.2rem 0.5rem var(--white); margin: 2px; width: 100%; height: 700px; padding: 10px; font-size: 14px;"></textarea>
                                                        </div>
                                            </div>
                                        </div>
                                    </div>
									</div>
                                </div>
								
								
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    
    </div>
<script>
    function salvarTexto() {
      const nomeArquivo = document.getElementById("nomeArquivoInput").value;
      const textoArea = document.getElementById("textoArea").value;
      const conteudoArquivo = `${textoArea}`;

      const blob = new Blob([conteudoArquivo], { type: "text/plain;charset=utf-8" });
      const link = document.createElement("a");
      link.href = URL.createObjectURL(blob);
      link.download = `${nomeArquivo}.txt`;
      link.click();
    }
  </script>

<script>
    async function convertToJPG() {
      const pdfFile = document.getElementById('pdfFile').files[0];
      const pdfData = new Uint8Array(await pdfFile.arrayBuffer());

      const loadingTask = pdfjsLib.getDocument(pdfData);
      const pdf = await loadingTask.promise;

      for (let i = 1; i <= pdf.numPages; i++) {
        const page = await pdf.getPage(i);
        const scale = 1.5;
        const viewport = page.getViewport({ scale });

        const canvas = document.createElement('canvas');
        const context = canvas.getContext('2d');
        canvas.height = viewport.height;
        canvas.width = viewport.width;

        const renderContext = {
          canvasContext: context,
          viewport: viewport
        };

        await page.render(renderContext).promise;

        const imgData = canvas.toDataURL('image/jpeg', 0.5); // 50% quality

        const imgElement = document.createElement('img');
        imgElement.src = imgData;
        imgElement.classList.add('img-thumbnail', 'm-2');

        // Create a link to trigger automatic download
        const downloadLink = document.createElement('a');
        downloadLink.href = imgData;
        downloadLink.download = `page_${i}_${pdfFile.name.replace('.pdf', '')}.jpg`;
        downloadLink.appendChild(imgElement);
        downloadLink.style.display = 'none'; // Hide the link

        document.getElementById('output').appendChild(imgElement).appendChild(downloadLink);

        // Simulate click to trigger download automatically
        downloadLink.click();
      }
    }
  </script>

	<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/js/all.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>
    <script src="./vendor/global/global.min.js"></script>
	<script src="./vendor/bootstrap-select/dist/js/bootstrap-select.min.js"></script>
    <script src="./vendor/chart.js/Chart.bundle.min.js"></script>
    <script src="./js/custom.min.js"></script>
	<script src="./js/deznav-init.js"></script>
	<script src="./vendor/waypoints/jquery.waypoints.min.js"></script>
	<script src="./vendor/jquery.counterup/jquery.counterup.min.js"></script>
	<script src="./vendor/apexchart/apexchart.js"></script>
	<script src="./vendor/datatables/js/jquery.dataTables.min.js"></script>
    <script src="./js/plugins-init/datatables.init.js"></script>
	<script src="./vendor/toastr/js/toastr.min.js"></script>
	<script src="./js/plugins-init/toastr-init.js"></script>
	<!-- Daterangepicker -->
    <!-- momment js is must -->
    <script src="./vendor/moment/moment.min.js"></script>
    <script src="./vendor/bootstrap-daterangepicker/daterangepicker.js"></script>
    <!-- clockpicker -->
    <script src="./vendor/clockpicker/js/bootstrap-clockpicker.min.js"></script>
    <!-- asColorPicker -->
    <script src="./vendor/jquery-asColor/jquery-asColor.min.js"></script>
    <script src="./vendor/jquery-asGradient/jquery-asGradient.min.js"></script>
    <script src="./vendor/jquery-asColorPicker/js/jquery-asColorPicker.min.js"></script>
    <!-- Material color picker -->
    <script src="./vendor/bootstrap-material-datetimepicker/js/bootstrap-material-datetimepicker.js"></script>
    <!-- pickdate -->
    <script src="./vendor/pickadate/picker.js"></script>
    <script src="./vendor/pickadate/picker.time.js"></script>
    <script src="./vendor/pickadate/picker.date.js"></script>



    <!-- Daterangepicker -->
    <script src="./js/plugins-init/bs-daterange-picker-init.js"></script>
    <!-- Clockpicker init -->
    <script src="./js/plugins-init/clock-picker-init.js"></script>
    <!-- asColorPicker init -->
    <script src="./js/plugins-init/jquery-asColorPicker.init.js"></script>
    <!-- Material color picker init -->
    <script src="./js/plugins-init/material-date-picker-init.js"></script>
    <!-- Pickdate -->
    <script src="./js/plugins-init/pickadate-init.js"></script>

</body>

</html>
